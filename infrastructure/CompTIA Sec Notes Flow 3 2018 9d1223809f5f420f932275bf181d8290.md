# CompTIA Sec+ Notes Flow 3 (2018)

Trainer linkedin enfield philip anderson

Exam Prep

1. [examcompass.com](http://examcompass.com/) ==> Get all tests to 90% (can use in class)
2. Darril Gibson Security+ Exam App ==> DOWNLOAD IT TODAY
3. Book ==> Go through all questions!

Networking Prep

OSI 7-layer model of networking

Physical
Data link
Network
Transport
Session
Presentation
Application

Layer 1 : Physical

Anything you can touch!

Cabling

```
Copper

    UTP    Unshielded Twisted Pair
    STP    Shielded Twisted Pair
    Plenum    Fire rated

Copper : COAX cables

    THICKNET    ORIGINAL     10Mbps

        10BASE5        5 ==> 500M  
        RG8

    THINNET        TV TODAY

        10BASE2        2==> 200M  (185M)
        RG58
        

Fiber
    Monomode    Pure laser light, expensive, 50km

    Multimode    Cheap LED light, 2km

                LAN    Local
                WAN    Wide area  (Monomode laser)
                MAN    Metropolitan (Multimode)
                CAN    Campus (Multimode)
                PAN    Personal (Bluetooth)

```

Layer 1 : Devices

```
Hub
    Broadcast all on all ports

Repeater
    100m max Ethernet : use repeater to extend to 200m

```

Layer 2

```
LAN LAYER

PC AND SWITCHES COMMUNICATE

How???
    Address of each machine ==> MAC ADDRESS

        IPCONFIG /ALL ==> 'Physical address'
                       (Hardware)

    Physical Address. . . . . . . . . : 60-67-20-78-0B-C6

What 'protocol' do we use to send data?

    Ethernet!!!

    Ethernet 'frame' is packet of data

| destination mac | source mac | data | CRC Error check |

    
Switch will be the central point of our network
    
    Analyse all packets
    Build table
    PORT     MAC
    1    ...
    2    ...
    3    ...

    Switch create 'virtual circuit' between computers
        so transfer is very quick eg 1Gbps

```

Summary
Layer 1 : Cabling, Hub, Repeater ==> raw electricity
Layer 2 : Switch : MAC Address, Data sent using ETHERNET as carrier

Layer 3 : Networking layer

```
IP Address (assigned in software)

    Private
        4 ranges
            Class A        10.x.y.z
            Class B        172.16.x.y - 172.31.x.y
            Class C        192.168.x.y

            APIPA          169.254.x.y
                    (issued when DHCP broken)
                                    

                    ((DHCP ==> assign IP 

```

address
to computers when they
start))

```
    Public 
        (( Google 'what is my IP' ))

            80.187.110.102

        All share same PUBLIC IP

            Given to us by ISP Internet Service 

```

Provider

```
        All machines share this same 'Gateway' address

            Is class A/B/C?  INSPECT FIRST number of IP

        First number is 

        Class A Range    1-126
        Loopback     127.0.0.1
        Class B Range    128-191
        Class C Range    192-223
        Class D Range    224-239
        Class E Range    240-255

        How do we get these numbers?

        Binary

        128  64  32  16  8  4  2  1
        1    0   0   0   0  0  0  0   ==> 128
        1    1   0   0   0  0  0  0   ==> 192
        1    1   1   0   0  0  0  0   ==> 128+64+32=224
        1    1   1   1   0  0  0  0   ==> 224 + 16 = 240
        
        
        Class A, B, C regular everyday computing
        Class D ==> Multicast ==> Push out large files
            or videos to network (eg .WIM image)

        Class E : research

```

Layer 3 : Routing

```
Second purpose of LAYER 3 is to CREATE EFFICIENT ROUTES 
        ACROSS THE INTERNET

    = 'ROUTING'

RIP = Routing Internet Protocol

    Basic : Router share ALL OF ITS KNOWN INFORMATION
            EVERY 30 SECONDS!  (BROADCAST TO ALL)

EIGRP ==> CISCO upgrade to RIP

    Same but ONLY SEND DATA IF A CHANGE HAS BEEN MADE; 
        OTHERWISE SILENT!!

RIP and EIGRP

    Distance around world measured in

        HOPS  (Call this a 'metric' which we can measure)

```

Layer 4 : Transport layer

```
So far
    1    Physical 
    2    Ethernet, Switch, MAC
    3    IP : Private and Public

        IP Packet :  Source IP, Destination IP, Data
            

        Routing : RIP and EIGRP

What is lacking in layer 3???

    We don't know if our data has arrived!

TCP    checking BUT SLOW!!!  (Better slow data than no data!!!)

    Two fields
    1. Sequence SEQ
    2. Acknowledge ACK

    SEQ : COUNT SENT PACKETS 1,2,3,4,5
    ACK : RECEIVER SENDS BACK WHAT ARRIVED EG 1,2,4,5

    SENDER : MISSING ACK ON PACKET 3 SO RESEND

    3-way handshake 
        Client : Hey, are you ready to receive?
        Server : yes
        Client : OK let's begin         
        

UDP    Streaming radio ==> use UDP - NO CHECKING!!!

    
TCP     SLOW, CHECKING        Connection-Oriented
UDP     FAST, NO CHECKING     Connectionless

Firewall
    IP            StateLESS
    TCP            StateFUL
    UDP            StateLESS

```

Layer 5

```
Create, manage, terminate 'session'

    Session = flow of data eg skype, Youtube, Messenger, email

```

Layer 6 : Presentation

```
Compress
    Large .WAV   ==> small .MP3
          .WMV             .MP4
          .RAW             .jpg

Encrypt    

```

Layer 7 Application

```
eg Skype, Outlook ==> request access to network

```

Network Protocols

FTP File Transfer Protocol

```
PLAIN TEXT : NOT SECURE

20/21

Encrypted versions

    SFTP
    FTPS

```

Bit-torrent

```
Split large file into SEEDS

Seed sent to clients : clients can now even send seeds to 
        other clients on internet!!!

De-centralised model!!!    ((Win 10 updates use this!!!))

```

Telnet

```
23
Plain text commands : old 

```

SSH
22
Encrypted Telnet

Email

```
OUT : Send

    SMTP    25    Simple Mail Transfer

In

    POP    110    Simple

    IMAP    143    Complex

```

HTTP Web page
80

HTTPS encrypted web page
443
Protocols : SSL (older) and TLS (upgrade, newer)

DNS Domain Name System/Server

```
Telephone directory for internet

    NAME        IP
    facebook.com    157.240.20.35
Port 53

```

DHCP Dynamic Host Configuration Protocol
Assign IP to computer
Port 67/8

TFTP Copy files on LAN (Trivial FTP)
Port 69

KERBEROS
Encrypt data in Active Directory
SSO also
Port 88

NETBIOS
Old fashioned 'NETWORKING WITH HOSTNAME '

```
HOSTNAME = NAME OF PC EG PC01
Port 137-139

        VIEW WITH NBTSTAT -n
                      -c

```

SNMP Simple Network Management Protocol
used to TRACK IF DEVICES ARE UP AND RUNNING

```
    HEARTBEAT EVERY EG 30 SECONDS 'I AM ALIVE'

    ALSO STATS EG THROUGHPUT 100MB LAST HOUR

SNMPv3  ==> allow encryption!
Port 161-162

```

LDAP Lightweight Directory Access Protocol
Used for ACTIVE DIRECTORY!
CN="PHIL",OU="USERS",DC="MYDOMAIN",DC="COM"
Port 389

RDP Remote Desktop Protocol
Log in to server
Port 3389

VPN Virtual Private Network

```
Dial up ==> PPP create connection (layer 2)

Encrypt 'tunnel' across INTERNET  

    LAN - LAN            Permanent, Tunnel Mode

    Home (laptop) ==> dial in to - LAN    Temp, Transport Mode

4 encryption methods

    PPTP    1723        Old, Point-to-point
    
    L2TP    1701        Good, strong, certificates
                IPSEC (built-in IP encryption)
    
    SSTP    443        VPN OVER HTTPS = SSL / TLS

                VPN over WEB!!!

    IKEV2    500, 4500    Latest, strong, certificates
                IPSEC (built-in IP encryption)

                VPN Reconnect : if on wifi/4g 
                and it 'drops' out, then can 
                reconnect without authentication

```

VLAN Virtual LAN

```
Switch

    Ports
    1    2    3    4    5    6
    VLAN01 VLAN01  VLAN01    VLAN02 
    PC01   PC02    PC03     PC04   
    ===================    =================

    company A         company B

    TRAFFIC CONFINED    
    TO VLAN01 COMPUTERS
    ONLY (ISOLATED VLAN)    

    LEGALLY CAN ISOLATE TWO COMPANIES : TWO 'VIRTUAL' LANS
        ON OUR SWITCH

    Ethernet ==> 'Tag' every packet  (802.1q)

```

Encryption

```
Cryptography = Science Of Encryption

Plain text                        Cipher Text
                            (encrypted)

        Algorithm    Key(user)   Key (system)
                        'salt'

        FIXED        Unique        Second password
                        Random, unique

        WEP2 with       WIFI KEY        
        AES encryption

```

3 types of encryption

```
Symmetric
Asymmetric
Hashing

```

Symmetric

```
FAST!
ONE KEY (think WIFI!)
also "Shared key"
also "reversible"

AES    (exam, good answer)
older    DES, 3DES, RC4, Blowfish, Twofish

Summary : one key both ENCRYPT AND DECRYPT. Fast. AES.

    <<older WPA also symmetric : Used TKIP encryption>>

Session key = Symmetric key lasting 10 minutes (eg web 'session')

```

Asymmetric = PKI Public Key Encryption

```
2 Keys

    PRIVATE & PUBLIC KEY

Slow 

Super strong !!!  (Certificates can last 30 years!!!))

    Either key can ENCRYPT : Other must decrypt!

Encryption Example

    Bob send Paul some encrypted data

    1)  Paul send to Bob his PUBLIC KEY (anyone can have
                your public key)

    2) Bob use Paul's PUBLIC KEY TO ENCRYPT THE DATA

    3) Send encrypted file to Paul

    4) Paul : read with PAUL'S PRIVATE KEY

        done!!!

Verifying Sender's Identity

    Goal : ensure email sender is GENUINE

    Commander : send bulk email

    1) Encrypt email with PRIVATE KEY of commander
    2) Send email
    3) Troops : UNLOCK WITH PUBLIC KEY of commander 
        ==> know it's genuine

PKI : Asymmetric : SUPER STRONG BUT SUPER SLOW!!!  2 keys public/
        private

```

Hashing

```
Integrity : ENSURE DATA HAS NOT CHANGED AT ALL

MD5
SHA1

((SHA256/512 are government approved))

sha1-online.com

phil        d14ffd41334ec4b4b3f2c0d55c38be6f

phil<space>    fdcffb2dda54dff940c0a541f1cee85c

phil.        dcd4936713c27cae72c65e90c1e60a66

MD5 SHORT    dcd4936713c27cae72c65e90c1e60a66
SHA1        b9425ed54a5b8be3518adfc35bb56be400d16239

SHA512                    

```

21a7088dd542f5c95725d3b6a0f56d28938b5c283af8c0997
8687dd9085d9c7a0721fafe70e1d439b8f63d7f21ef2030ee
defffd0708aeb892f268c7276106e2

```
Hashing : summary : checks if file has changed (Integrity)

Using hashing today

    Passwords
        mysecretpassword        

            Stored ==>             

```

08cd923367890009657eab812753379bdb321eeb

```
    Hashing ==> also called 'ONE WAY ENCRYPTION'

        ((proven cannot reverse this))

    Bad guys ==> COLLECT 'RAINBOW TABLES' OF UP TO 50GB OR
        MORE OF PASSWORDS AND THEIR HASH

```

Signature

```
Goal of 'signing' a document is two fold

    1) Prove who created it  "Publisher"

    2) Prove file has not changed (integrity)

1. Take your file

2. Hash your file

3. With your PRIVATE KEY, ENCRYPT JUST THE 'HASH'!

    SIGNATURE OF FILE = ENCRYPTED HASH OF FILE !!!

At run time we must VERIFY THE SIGNATURE

    
1. Use PUBLIC KEY OF PUBLISHER (CREATOR OF FILE) to 
    DECRYPT THE HASH

2. Re-hash original file and compare this hash with the
    decrypted hash : should match

    MYFILE.DOC   ==>   HASH   =>    ENCRYPTED HASH

    CHECK
    
    1.         HASH    <<<==    ENCRYPTED HASH

    2. MYFILE.DOC ==> HASH    

```

Darill Gibson Book

Chapter 1

C Confidentiality = Encryption

I Integrity = Data has not changed

A Availability = Data can be used

A Authentication = LOG IN

A Authorisation = GRANTED ACCESS / PERMISSION TO A FILE

A Accounting = LOGGING WHO DID WHAT, WHEN

Authentication

```
Credentials

    Log in User/Password

```


Use of the 'MAC' word

```
1. MAC address
2. MAC Mandatory Access Control (Clearance)  CLASSIFY FILE
            WITH 'TOP SECRET'
3. (H) MAC  Hash a message   Hash based message : verify message
            intact

```

PKI use of Certificates

```
CERTIFICATE is a digital container to hold you 'key'

    PUBLIC CERTIFICATES ONLINE EG VERISIGN

SIGNATURE ==> VALIDATE A FILE THAT IT'S GENUNINE

    HASH ==> VERIFY FILE HAS NOT CHANGED

    SIGNATURE ==> VERIFIES 1) FILE HAS NOT CHANGED (HASH)
                   2) ID OF SENDER/PUBLISHER/OWNER
                    (PUBLIC/PRIVATE PAIR)

        = NON-REPUDIATION which means we can't deny
            that something happened.

           EG DATABASE FILE : SIGNED : PROVE IN COURT 
            OF LAW IT WASN'T TAMPERED WITH.

```

Availability

```
Is data available?

Redundancy : If a system fails, we have procedures in place
        to fix this quickly

Fault tolerance : can cope with a failure and still keep operating

RAID 

    RAID 0        Striping    No redundancy but FAST!!
            2 drives    Use in WEB SERVER / 
                    DATABASE SERVER

    RAID 1        Mirror         2 drives; copy of each 

```

other

```
    RAID 5        Striping with parity

                    3 drives min
                    Lose 1 drive; keep data

clustering

    front end servers

    SERVERA        A FAILS, B TAKES OVER  ('FAIL OVER')
    SERVERB

Load balancing

    CLIENT ==> LOAD BALANCER  ==>   SERVER FARM    A/B/C/D/E

        round robin requests to A/B/C/D/E in turn

Site redundancy (hot/warm/cold site)

    Hot site : full power + computers ready to go ** EXPENSIVE

    Warm site : building + devices off 

    Cold site : building only : bare building + electrical 
                    power

Backup

UPS    Uninterruptible Power supply : battery lasting 30 minutes

Single Point Of Failure : one critical component that, if
    fails, we have no service

HVAC system : 

    Heating, Ventilation, Air Con

Patching 
    keeping system up to date

Fail safe        Power saw, two hands to power on

Fail open        Door : power out ==> door swing open
            
Fail secure/shut    Door : power out ==> door remain locked

                INSIDE : MANUAL OVERRIDE TO ESCAPE

```

Defense In Depth

```
layered defences

```

Risk

```
Vulnerability    weakness in our system

    Misconfiguring server
    Lack of patching (updates)
    Firewall OPEN PORTS
    Permissions (access control) not monitored
    Back door : HACK CREATED BY PROGRAMMER TO LOG IN 
        BYPASS ALL SECURITY        
    Lack of fire suppression
    Lack of PHYSICAL SECURITY EG GUARD, BARRIER ETC
    
Threat : something malicious which wants to attack

    Insider threat (malicious employee)
    Malware
    Virus
    Worm
    

Risk is Chance that a THREAT will EXPLOIT (USE) A VULNERABILITY
        TO ATTACK YOU

What to do with Risk!!!

    Mitigate ==> REDUCE RISK (wear HIGH VIS VEST)

    Accept risk : do it anyway!

    Transfer risk : pay insurer

    Avoid risk : do something completely different

Impact = HOW MUCH DAMAGE WILL BE CAUSED!!!

    Issue : Virus hits system

    SLE    Single Loss Expectancy        $10,000

    ARO    Annual Rate Of Occurrence    2

    ALE    Annual Loss Expectancy

        ALE = SLE X ARO  = 10000 X 2  = $20,000

```

Identity & Authentication

```
Something you ...

    know        User/password/PIN

    are        Biometric eg fingerprint, retina scan

    have        CAC Card  (Token based authentication)

    do        way you type!!!

Some WHERE YOU ARE    geolocation of IP

    

Password policy

    Complex password ==> UPPER + lower + 1234 + !@#$

        Windows ==> 3 out 4 acceptable (not all 4)

        (view in Group Policy / GPEDIT.MSC which is
            managing ONE COMPUTER)
            

Lockout policy

    Fail to log in ==> lock your account after x fails

        Duration of lockout : 0 minutes ==> for ever!
                (admin has to unlock)

Default Passwords

    !!! care !!! Many internet devices COME WITH BUILT-IN
    DEFAULT USER AND PASSWORD WHICH YOU CAN FIND ON THE 

```

INTERNET

```
        Care ! Change quickly !

```

Smart cards (something you have)

```
Chip : contain certificate

    ((Token based authentication : granted TOKEN when you
        log in))

CAC

PIV card

```

Multifactor

```
Smartcard (token)      1 factor    (you have)
PIN            1 factor    (you know)

```

One Time Password

```
OTP    one time password (eg text to your phone)

TOTP    time based : expire after 2 minutes

HOTP    hash based : can only use one time 
    
        file    +   1        
        file    +   2  

```

Biometric

```
False positive        flags eg as VIRUS but it's a good file

False negative        Virus which gets through

Login
    False Acceptance : Type 2 error : let unauthorised through
        FAR False Acceptance Rate

    False Rejection : Valid person rejected

```

Authentication Services

```
Kerberos
    
    Active Directory is SECURED WITH KERBEROS

    Log in : get a TOKEN.

        Use this token when want access to a file : 
        present token.

        ACL Access Control List ==> check

            1) ARE YOU ON THE LIST?

            2) ACE ENTRY : DO YOU HAVE FULL CONTROL/
                MODIFY/READ/WRITE ETC ???

    ((All computers must be within 5 minutes of each other))

LDAP
    
    LDAPS = Secure version

SSO Single Sign On

    Forest ==> GROUP OF DOMAINS  EG Microsoft.com bought
            msn.com, skype.com, hotmail.com

    Trust ==> BETWEEN DOMAINS

        Transitive == 'THROUGH' TRUST

            A==>B  B==>C  so now A==>B==>C     

    Federation = GROUP OF COMPANIES WHICH TRUST EACH OTHER

        COMPANYA:USER:JOE  ==> LOG IN AND GAIN ACCESS 
            TO COMPANYB

            (VIEW USER:JOE AS read only user in
                CompanyB)

    SAML ==> XML language to enable SSO between companies

```

Day 2

```
Review

Kerberos : Rock solid security mechanism behind Active 
        Directory.  SSO.  Port 88.  

LDAP Lightweight Directory Access Protocol
    
    CN="Phil Anderson",OU="Employees",DC=MYDOMAIN,DC=COM

SSO Single sign on

SAML : contains instructions in XML format : enable SSO 
        communication 

AD FS Federation Services

    Group of companies working together; forests TRUST each 

```

other

Ways to Authenticate REMOTELY INTO YOUR SYSTEM

```
RAS = Remote Access Service = dialing remotely into your system

    RAS can involve
        1) Dialing to a phone number
        2) Dialing to an IP Address

    On top then can create a VPN with encryption

Client ==> RAS Server ==>  RADIUS server  ==> Active Directory  
               (authenticate 
                  with Active
               Directory)

      RAS1
      RAS2
      RAS3  (many RAS   (only 1 RADIUS
         servers)     server)

```

Authentication Types

```
PAP    Plain Text : DO NOT USE!!!

Chap    Not quite as bad as PAP but still - avoid using

MS-Chap2 : Microsoft : OK to use (passwords)

EAP-TLS  : uses CERTIFICATES ON CLIENT and SERVER (both machines)

PEAP     : Protected EAP : Good as CERTIFICATE ON SERVER;
        password for user on client

LEAP : Lightweight EAP : Cisco : DO NOT USE!  (Vulnerabilities)

```

Advanced Authentication Types for VPN

```
RADIUS

    CLIENT==>RAS DIAL-IN SERVER==>  RADIUS ==>  AD BACK END    

    Job of RADIUS is to verify user credentials with 
        Active Directory

DIAMETER

    Improved version of RADIUS (pun : DIAMETER is twice length
                    of RADIUS of a circle...!)

TACACS+    : best of these 3 (better than RADIUS or DIAMETER)

    full encryption of authentication traffic

```

Chapter 2

Types of control to STOP INCIDENTS!!!

```
Technical Control
    Using technology eg 

        Firewall : block IP traffic

        IDS Intrusion Detection  : Alert eg email

            NIDS Network Intrusion (for whole network)
            HIDS Host based intrusion (for one server)    

        IPS Intrusion Prevention : Take action eg
            Temporarily stop traffic getting into 
            network

            NIPS    : whole network 
            HIPS    : one HOST (SERVER)

        Encryption

        Antivirus

        Motion detection camera

Management Control

    Create POLICIES 

        AUP Acceptable Use
        Password policy
        Lockout policy
        Disaster recovery policy
        Data protection policy
        ...

    Auditing : CHECK IF POLICIES BEING USED!!!

        Policy Enforcement : ensure people DOING WHAT
            POLICY ASKS

    Risk : 
        1) Risk Assessment
        2) Monetarise (calculate how much money to 
                spend on reducing risk)
        3) Mitigate : take action : reduce risk

    Vulnerability Assessment

        Pay 'Ethical Hacker' (White Hat Hacker) to 
        scan your systems for weaknesses
            
            FIREWALL
                OPEN PORTS
                ACL : ACCESS RULES / LISTS
            PHYSICAL : DOORS, CAMERAS, ETC...
            SOFTWARE : HACKABLE
            RUNNING SERVICES : UNNECESSARY (TURN OFF)

    Penetration Testing

        Pay 'Ethical Hacker' to ACTUALLY TRY AND HACK
        IN TO YOUR SYSTEM

            ==> Hacker, if break in, would prove 
            the 'exploit to a point 

        ACTUALLY BREAK IN TO YOUR SYSTEM

Operational Control

    Day-to-day implementation of policies etc advised
        by management

    Clean desk policy : no passwords or data visible overnight

    Change Management

        Authorised, approved changes

        1. Cost analysis
        2. Risk analysis => can anything go wrong?
        3. Backup??? ==> Roll back if necessary
        4. Approval and sign off
        
    Configuration Management

        Ensuring if our machine fails eg server, router,
        switch ==> we have good mechanism for restoring
        all correct settings (configuration)

        Mistake ==> restore to correct also

```

Government Control Standards

```
NIST National Institute for Standards And Technology

    SP800 standards for 'controls'

```

Control Classifications

```
Preventive Controls

    STOP ATTACK!!

    Harden (Strengthen) A Server

        Security BASELINE ==> set configuration to 
        'lock down' server so it's not vulernable to 
        attack
        
            FIREWALL
            GROUP POLICY
            SERVICES RUNNING : REMOVE UNECESSARY
            APPLICATIONS / ROLES : REMOVE
            FILES : REMOVE IF CAN
            
    Training

    Guards

    Disabling Unused Accounts 

        RISK IF DELETE OUTRIGHT ==> LOSE DATA!!! CARE!!

        BETTER TO DISABLE ACCOUNT FIRST FOR AGREED 
            PERIOD OF TIME

        
Detective Controls ** AFTER THE EVENT **

    Logs
        Firewall Log        

        Event Viewer

            Windows system log

            3 main logs
            
                1. System : OS main log
                2. Security : login etc 
                    Success = good login
                    Failure (lots of them)
                    indicate hacker activity

        Trends

            BASELINE = GRAPH OF EXPECTED ACTIVITY

                Task Manager
                Resource Monitor  (RESMON)
                Performance Monitor : baseline
                        (PERFMON)
    
    Audit : detect AFTER if attack took place

    Video : detect AFTER if something happened

Corrective Controls

    IPS Intrusion Prevention (active control)
        TAKE ACTION EG PUT ATTACKER MACHINE ON 
            SEPARATE NETWORK (USE DHCP)

    Backup : can restore if attacked

Deterrent

    Warning signs eg Building, at Logon

    Video cameras

    etc

    Just a clear sign to enemy : don't attack

Compensating Control

    If primary mechanism not working, then do x instead

    eg Smart cards not working ==> instead get ONE TIME 
            PASSWORD TO LOG IN

```

Physical Control

```
Cipher Lock on door = KEYPAD

Proximity Card 

Tailgating : following someone through secure door

    Mantrap : force people one by one 

```

Logical (admin, computer) controls

```
Least privilege : min access to do your job

Group Policy

    Mechanism for CENTRALLY MANAGING
        USERS, GROUPS, COMPUTERS, PRINTERS
        and all settings eg centrally applied 
        password settings for our 'domain'

    
    Domain ==> Server Manager / Admin Tools

        Default Domain Policy ==> ENTIRE COMPANY

            <<RIGHT CLICK, EDIT>>

    ONE PC ==> GPEDIT.MSC

    GPO = FILE WITH GROUP POLICY SETTINGS IN IT

Generic Accounts

    guest account is built in to Windows! DISABLE IT!!

Time-of-day restrictions 

```

Access Control

```
Role Based Access

    Permissions AUTO SET according to your job role

        Move jobs ==> remove from old role, add to new
                 permissions are set

    Groups     

Rule Based Access

    Cuts through permissions

    Restricting access to all based on different criteria

        eg Downtime during night == > no user can log
        on midnight to 4am  RULE!!

    Firewall : IP TRAFFIC BLOCKED EG PORT 21 FTP BLOCKED

    
Discretionary Access  DACL

    Discretion ==> permission to choose

    DACL : local admin has full rights to set permissions
        on folders as see fit to do.

        NTFS PERMISSIONS

            FULL CONTROL    Set permission    
            MODIFY        change/delete file
            READ
            EXECUTE        run .exe / msi installer
            WRITE        create NEW
            LIST FOLDERS    traverse folder path

        SID = security ID  

        RID = relative ID (domain)

        GUID = domain ID  

MAC Mandatory Access Control

    Government Classified Documents
        Top secret, secret, restricted, 
            confidential, unclassified

    ** MANDATORY = FIXED (Locally you have no control,
                fixed by government)

                ((Linux SELinux))

    ** still NEED TO KNOW **

```

Chapter 3 : Network

```
Sending data

    To send data we need

    1) IP Address

    2) Port which is a channel to reach this IP

        ((Think IP = fortified castle, port = approved
            channel into that castle))

            www.bbc.com:80                 good
            www.bbc.com:81                   fail
            <https://www.facebook.com:443>   good
            

        How many ports ? 2^16 ==> 65536 ports!!!

        1-1000 COMMON 
        1000-49999 REGISTERED
        50000+     DYNAMIC, ANYONE CAN USE

        View ports??? 

            NETSTAT  show network statistics plus
                ports in use

```

Overview of PORTS

```
20/21        FTP
23        TELNET
22        SSH SECURE SHELL

        ALSO            SCP SECURE COPY
                    SFTP SECURE FTP

25        SMTP   SEND EMAIL
110        POP    RECEIVE EMAIL
143        IMAP   RECEIVE EMAIL

80        HTTP
443        HTTPS

53        DNS
67        DHCP
69        TRIVIAL FTP
137        NETBIOS : NETWORKING USING HOSTNAME AS UNIQUE ID
161        SNMP SIMPLE NETWORK MANAGEMENT
3389        REMOTE DESKTOP RDP
389        LDAP

```

LAYER 3
IP ADDRESS

LAYER 4

```
TCP : SLOW BUT CHECKS

UDP : FAST BUT NO CHECK

```

TCP

```
Connection-oriented 
Check all packets
'Sequence' number OUT
'Acknowledgement' number IN

Initiate : 3-way handshake    (SYN/ACK)

    TCP ATTACK = SYN/ACK FLOOD OR TCP FLOOD (Just flood
                server with TCP 'hi' message)

```

ICMP Internet Control Message Protocol

```
PING ==> test connectivity

ICMP ==> provides feedback when there is an ERROR WITH 
        YOUR CONNECTION

    404 unreachable / timeout

    ICMP let user know there is a problem  (message 404
        unreachable etc)

PATHPING    view routers on the way

TRACERT            "

```

ARP Address Resolution Protocol

```
Map  IP to MAC address

arp -a

    ATTACK : ARP SPOOFING : FAKING IP-TO-MAC TABLE SHOWN HERE

```

Neighbour Discovery : finds devices eg gateway on network

Encrypting Data IN TRANSIT

```
SSH    : encrypted command line (port 22)

SCP    : Secure Copy (linux)    (port 22)

HTTPS = TLS = SSL (port 443)

LDAP3 = LDAP over SSL (636)

IPSEC = built in to IP (IPv4 and IPv6)

    encrypt data 1) on LAN   2) VPN  

    IPSEC rule types

        ISOLATION : whole domain

        ENDPOINT : between 2 computers

    AH : Authentication
    ESP : Encyption

```

Application (Layer 7) protocols

```
HTTP
HTTPS
FTP
    SFTP     OVER 22
    FTPS     OVER SSL

```

IP

Subnet Mask

```
255.255.255.0    

In BINARY LOOKS LIKE

11111111  11111111  11111111   00000000

                             ^^
                SPLIT
                POINT

<-----NETWORK ID------------><---HOST ID ->

192       168        10          84            IP

192.168.10    is NETWORK ID       ((192.168.10.0))
          .84 is HOST ID    

MASK CREATES 'NETWORK' ID ==> ALL COMPUTERS HAVE SAME
    NETWORK ID ON A NETWORK

CIDR NOTATION

    count 'bits' in mask

    CLASS A MASK    255.0.0.0    8 bits    CIDR   /8    
          B        255.255.0.0    16         /16
                  C        255.255.255.0    24         /24

```

To connect to the INTERNET WE NEED

```
1) IP
2) MASK
3) GATEWAY : INTERNAL ROUTER WHICH CAN SEND TRAFFIC TO INTERNET
4) DNS : PHONE BOOK : MAP ALL NAMES TO IP ADDRESSES

```

IPv4 32 bit

IPv6 128 bit

```
fe80:1234:5678::0123

    fe80 => PRIVATE (LAN ONLY)  'LINK LOCAL'
        GLOBAL ADDRESS

```

DNS

```
DNS Record Types

A = ADDRESS = IPV4 COMPUTER

AAAA = IPV6

MX = EMAIL

CNAME = Alias, False, Fake name (www) = website

SRV = SERVICE (EG KERBEROS)

PTR = POINTER = REVERSE LOOKUP

SOA = START OF AUTHORITY = BOSS, AUTHORITATIVE DNS SERVER

NS = NAME SERVER (ANY DNS SERVER)    

```

Ports

```
NETSTAT ==> SHOWS PORTS

```

Network Devices

```
Unicast        1-1

Broadcast    1-all

Multicast    1-group        224.10.11.12 multicast IP; send
                to here.  Data sent on to group.

Anycast        1-nearest (IPV6)

```

Hub
BROADCAST ONLY!!

Switch

```
Port Security : lock down ports (physical) or software.

    Software ==> 802.1x CAN VERIFY ANY CONNECTING DEVICE

        802.1x  ==>  port security on switch to verify
                        any device
Loops
    
    =================  SWITCH 1
      |  loop    |
    =================  SWITCH 2

    STP Spanning Tree Protocol : AUTO-PREVENT LOOPS 
        (DYNAMIC)

Port Security

    1) PHYSICAL SECURITY : LOCK YOUR CABINET!

    2) MAC ADDRESS FILTER : LABOUR INTENSIVE : TYPE IN 
                    MAC ADDRESSES!!

    3) 802.1X ==> AUTHENTICATE DEVICE/USER VIA RADIUS SERVER

    4) DISABLING UNUSED PORTS

```

Router / Firewall

```
In this course we have 2 ACL

1) Windows - each folder has an ACL with users and permissions

2) Firewall - each firewall will have an ACCESS CONTROL LIST

    TO ALLOW OR DENY IP TRAFFIC

Firewalls BLOCK TRAFFIC BY

    1)    IP

    2)    PORT

    3)    PROGRAM eg Skype

    4)    PROTOCOL EITHER TCP / UDP

            ui.linksys.com   100 routers to log into!

Implicit Deny

    a door is LOCKED BY DEFAULT!

    Users are LOCKED OUT BY ASSUMPTION (IMPLICIT DENY)
    unless granted EXPLICIT ACCESS

Host-based firewall : on ONE PC EG WINDOWS FIREWALL

Network based : ON GATEWAY DEVICE :PROTECTS WHOLE LAN

Firewall rule looks like

    PERMIT/DENY    SOURCE     DESTINATION  PORT     PROTOCOL

```

tcp/udp/ip=both

```
    DENY        ANY    ANY         ALL     IP
           (LAST RULE = DENY ALL = IMPLICIT DENY)    

DMZ

    A DMZ (DE-MILITARIZED ZONE) IS A TERM FOR AN AREA BETWEEN
        2 ARMIES.

    In networking, a DMZ is an area OUTSIDE OUR LAN
        to host a PUBLIC FACING WEB SERVER

    DMZ = PERIMITER NETWORK = SCREENED SUBNET

        Even if hacker hacks in, limited damage is done

DMZ can host a 'Web site' or a 'Web Application' (much 
        the same thing)

    WAF = Web Application Firewall : protect our web app!

```

Firewall types

```
Layer 3        simple firewall : block by IP

        "stateless" firewall : INSPECTS EACH PACKET
            INDIVIDUALLY : unware of 'STATE' OR 'FLOW'
            OF PACKETS

Layer 4        "stateful" firewall : AWARE OF FLOW OF TRAFFIC
            (TCP : sequence count so can track
            a flow of packets)

Layer 7        Application layer firewall : DEEP PACKET INSPECTION
        where INSPECT CONTENTS OF PACKETS for malware!
        (even inside ZIP files)

            can be slow!!! as quite intrusive!!!

```

Ways of splitting up your network

```
1. Router     by IP

2. VLAN        by MAC address on a SWITCH

3. Firewall     block IP traffic

```

NAT and PAT

```
Network Address Translation

Port Address Translation

On our LAN we have a PRIVATE IP EG 192.168.12.10

This is BANNED FROM THE INTERNET!!!

At our ROUTER we turn on NAT Network Address Translation

    we 1) STRIP OUT PRIVATE IP 
       2) REPLACE WITH PUBLIC IP   (FIND OUT WITH 'WHATISMYIP')

IP PACKET BEFORE

        source ip    destination ip        data
        192.168.12.10    157.240.20.35        ....
    
IP PACKET AFTER

        source ip    destination ip     port    data
        80.187.110.1    157.240.20.35    54348    ...

NAT : officially just copes 1 private to 1 public IP

PAT : can cope with 10,000 private computers for 1 public IP

    BUT!!! normally NAT and PAT mean same thing ie 
        many computers ==> all swap IP at router

```

Proxy Server

```
To monitor internet usage we can install a proxy on our network

Proxy allows us to

1) Know which users are using the internet
2) Know which sites
3) Check BLACKLISTED SITES
4) Check Virus in Downloads
5) Cache (store) content for other users  (busy sites, next user
    get content from cache so quicker)

URL FILTER : CHECK URL FOR BLACKLISTED SITES

```

UTM Unified Threat Management

```
Umbrella term : ALL SECURITY DEVICES!!!

```

Web Security Gateway

```
Content Filtering : checking web pages for MALICIOUS CONTENT

```

Chapter 4

IDS passive : react : DETECT
NIDS
HIDS

IPS active : take action : PREVENT
NIPS
HIPS

Network Protocol Analyser = Wireshark = Packet Sniffing

How to detect an attack!!!

```
How does ANTIVIRUS SOFTWARE WORK???

    It takes HASHES OF KNOWN VIRUSES AND DOWNLOADS THE 
    HASHES TO YOUR COMPUTER.  

    SCAN YOUR COMPUTER ==> ANY FILES WHICH MATCH THE 
        VIRUS HASHES ARE FLAGGED

SIGNATURE BASED SCANNING 

    CHECK AGAINST HASHES (SIGNATURE) OF KNOWN VIRUSES

ANOMALY BASED SCANNING

    Take a BASELINE OF PREDICTED BEHAVIOUR

        Watch for deviations from predicted behaviour

        ((Heuristic = Real time scanning))

BEHAVIOUR BASED

    MATCH TRAFFIC AGAINST FIXED RULES OR PATTERNS

        (CAN BE PRONE TO 'FALSE POSITIVE')

New (Zero Day) Viruses

    Brand new software just released but hackers find
    a vulnerability : can exploit this and hack in.

        Good guys don't know about this yet : Zero day         

                exploit

CVE Common Vulnerabilities and Exposures : LIST OF ALL KNOWN
    HACKS AND VIRUSES!!!

```

MAC ADDRESS ==> 60-67-20-78-0B-C6

7 8 0 B C 6
0 1 1 1 1 0 0 0 0 0 0 0 1 0 1 1 1 1 0 0 0 1 1 0

Chapter 4

Overview so far

Wireshark = packet sniffing = Network Protocol Analyser
IDS = Intrusion Detection : Passive (alert only)
IPS = Intrusion Prevention : Active : can take action = eg move machine
to another subnet
HIPS = host based = ONE MACHINE
NIPS = network based = ROUTER/GATEWAY/FIREWALL : PROTECT WHOLE NETWORK

Types of floods we can defend against
TCP : SYN FLOOD : abusing '3-way handshake' to force
server to reserve space for non-existent
connections
PING FLOOD
SMURF ATTACK : MALFORMED PINGS

```
FLOODS IN GENERAL

    DOS ATTACK DENIAL OF SERVICE
    DDOS DISTRIBUTED DOS ATTACK : FROM MANY COMPUTERS
    BOTNET : NETWORK OF INFECTED COMPUTERS WORKING
        TOGETHER TO ATTACK YOU
    ZOMBIE COMPUTER : HAS BEEN INFECTED BUT YOU MAY NOT NOTICE
        (INFECTION MIGHT BE DORMANT)
    LOGIC BOMB : TRIGGER TO WAKE UP ZOMBIE COMPUTER TO ATTACK
                    YOU

```

Ways to dectect viruses or attacks

```
SIGNATURE BASED

    EVERY VIRUS HAS A 'HASH' 
    SYMANTEC ANTIVIRUS COLLECT ALL 'HASHES' FROM KNOWN
        VIRUSES.  DOWNLOAD TO YOUR PC 
        VIRUS SCAN : CHECK COMPUTER : MATCH ANY HASHES

ANOMALY : CREATE GRAPH 'BASELINE' : CHECK FOR DEVIATIONS

BEHAVIOUR : CREATE 'RULES'  : ALERT IF RULES ARE BROKEN/TRIGGERED

```

Honeypot FAKE PC SET UP AS A TRAP FOR THE HACKER.
OUR GOALS 1) OBSERVE HACKER; GET DETAILS ON WHO IS
ATTACKING US
2) WASTE THEIR TIME : THEY ARE NOT ATTACKING US!!

```
HoneyNET = FAKE NETWORK

```

Industrial Network

```
SCADA = eg Power plant, car factory
HVAC  = Heating, Ventilation, Air Con

```

Attackers create...

```
APT       Permanent virus which attacks you over and over

    ADVANCED PERISTENT THREAT

RAT    Bad guys can send signals into their viruses 
        
        Remote Access Tool

```

WIFI

```
IEEE  ==> Institute Electrical / Electronic engineers
802.11  = WIFI

```

Wifi Standards

```
802.11        freqency    speed
                Mbps   (b=bits)

b        2.4        11
g        2.4        54
n        2.4 and 5    600+
ac            5    3000+  (3Gbps)

b,g,n ==> COMPATIBLE ON 2.4 GHZ 
n works on 2.4 and 5
n is VARIABLE SPEED : MIMO which is MULTIPLE AERIALS 
    (MIMO = Multiple Input Multiple Output)

        Note : b = bits  (transfer rate )
               B   BYTES (storage eg 1TB drive)

```

Antenna

```
Yagi             Directional  TV
Parabolic
Omni directional  = DIPOLE  (VERTICAL POLE)

```

Wifi Power

```
Site Survey : map out WIFI and does it exceed building walls?

Exam : Reduce power if it's exceeding building walls

```

Wifi Channels

```
13 channels : 1,6,11 are default

    EXAM : GET BETTER SIGNAL : CHANGE CHANNEL (OR SET TO AUTO)

```

Wifi Encryption

```
WEP
    OLDEST, HACKED        

WPA
    OK
    ENCRYPTED WITH 'TKIP' ENCRYPTION

WPA2
    BEST ANSWER
    ENCRYPTED WITH 'AES'  
               'CCMP' = advanced form of AES

    PERSONAL

        Regular WIFI : one key : use every day

    ENTERPRISE

        Logging in with regular company USER/PASSWORD

        
        client ==> wifi ==> RADIUS ==> active directory
         --->802.1x--------->

```

VPN : Authentication when dialing in (also WPA2 Enterprise)

```
EAP 'shell' (container) inside which we put our security protocol

EAP-TLS    
    most secure

    CLIENT  ================= SERVER
    certificate          certificate    

PEAP Protected EAP

    CERTIFICATE ON SERVER ONLY  ==> Client just logs in
        with username/password

LEAP : cisco : weak :don't use

```

Securing Phones

```
ECC Elliptic Curve Cryptography

    SMALL, LIGHT ==> USE TO PROVIDE PKI PUBLIC/PRIVATE KEYS
        FOR SMALL MOBILE DEVICES

```

Captive Portal

```
Free WIFI ==> takes you to special LOGIN PAGE

```

Hotel WIFI access

```
Isolation Mode : Each guest WIFI is separated from all other
    guest WIFI

```

Default logins ==> CHANGE THEM!!!

WIFI 'mac filter'

```
Can block or allow clients by MAC ADDRESS

    NOT USED MUCH AS LABOUR INTENSIVE : HAVE TO MANUALLY
    TYPE IN EACH ADDRESS!

    ** note : ATTACKER COULD 'SPOOF' (CHANGE) THEIR
    MAC ADDRESS TO GET PAST THIS **

```

War Driving ==> looking for FREE WIFI!

War Chalking ==> marking free wifi in chalk eg on pavement for others to

see

WIFI

```
SSID    Name of WIFI   (Service Set ID)

BSSID    Base : single wifi
ESSID   Extended : roaming wifi

Disable SSID broadcast

    can ensure NAME OF NETWORK is NOT BROADCAST

        user ==> see 'unnamed network'

    ** EXAM : MINIMALLY BETTER (ONLY JUST!)

        REAL ATTACKER : GET RESPONSE FROM WIFI : CONTAIN
                    NAME ANYWAY

```

WIFI attacks

```
WEP : OLD : HACKED ==> THE 'SALT' WAS EASILY HACKED

      algorithm  +  password      + salt
      AES        myFurryCat22     <<random system generated>>

    SALT = IV = INITIALISATION VECTOR

```

Password attack

```
BRUTE FORCE ATTACK : TRY EVERY COMBINATION IN TURN

    0000  TO 9999  : TRY EVERY ONE!

DICTIONARY ATTACK : USING REGULAR WORDS

```

WPS attack

```
WPS = WIFI protected setup

    exam : BEST TO TURN OFF WPS AS THE PIN NUMBER IS EASILY
        HACKED (8 DIGIT STORED AS 2X 4-DIGIT PIN NUMBERS)

```

Rogue Access Point

```
Unauthorised WIFI point!

```

Evil Twin

```
FAKE WIFI POINT IN SAME NAME AS GOOD WIFI POINT

    eg hotel01  :  CREATE FAKE WIFI WITH SAME NAME

        GUESTS DON'T KNOW WHICH IS REAL

```

Jamming : Block signal

Wireless Signal types

```
IR Infra Red            1m    
NFC Near field communication    10cm
Bluetooth            10m
WIFI                30m
WIFI 'AC'            100m

```

Wired signal distances

```
Ethernet        100m
    Repeater        100m ==> double to 200m
Thicknet  10base5      500m        RG8
Thinnet      10base2    200m (185m)    RG58

```

SNARF Steal data

Bluesnarf Steal data over bluetooth eg your contacts

Bluejack virus infect phone : via bluetooth

Remote Access

```
DIAL UP = POTS = PSTN

    POTS    PLAIN OLD TELEPHONE SERVICE

    PSTN    PUBLIC SWITCHED TELEPHONE NETWORK

VOIP = telephones over your NETWORK (SKYPE!)

    VOIP = Voice over IP

    QOS = Quality Of Service : Prioritise real time traffic

        real time : VOIP CALL / IM
        high : email
        low : browsing / downloads / youtube

VPN DIAL UP

    PPP  ==> DIALS UP

    PPTP        1723        OLD
    L2TP        1701        IPSEC, CERTIFICATES
    SSTP        443        OVER HTTPS (SSL/TLS)
    IKEV2        500,4500    IPSEC, CERTIFICATES

LOAD BALANCING

    LOAD BALANCER : SHARE THE WORK FOR MULTIPLE BACK-END
            SERVERS

    VPN CONCENTRATOR : HARDWARE TO ACCEPT MANY CONNECTIONS
            AND FEED THEM TO MULTIPLE BACK-END
            VPN DIAL-IN SERVERS

    client                VPN DIAL-IN SERVER
    client        LOAD BALANCER    VPN DIAL-IN SERVER
    client        vpn concentrator    VPN DIAL-IN SERVER

                    ---server farm----

```

NAC Network Access Control

```
NAC = NAP (... Protection)

Goal : PROTECT YOUR NETWORK FROM PCS WHICH DO NOT MEET STANDARDS

Computer : Join Network : NOT ALLOWED UNTIL PASSES TESTS:-

    1) Windows updates
    2) Firewall ON AND CONFIGURED
    3) AV installed and UP TO DATE
    
    PASS ==> CERTIFICATE OF HEALTH

    FAIL ==> PUT TO QUARANTINE AND LET MACHINE GET UPDATES ETC
        "REMEDIATION"

```

Chapter 5

Hardening

```
Make server secure

    Disable services

    Uninstall applications

            ====> reduce "attack surface"

    Disable user accounts        

    Baseline graph ==> detect ANOMALIES = UNUSUAL BEHAVIOUR

        Security baseline  :   ENSURE START POINT IS 
                    AUTHORISED AS SECURE
                      ((GOVERMENT STANDARD IMAGE))

        Config baseline : server settings

        App baseline : application settings
        
        Performance baseline : CPU/RAM/Hard disk 

```

performance

```
Group Policy

    ENFORCE SETTINGS!!!

        Password policy
        Lockout policy            
        User Rights ==> eg change system time, shut system
                down
        AppLocker : stop software running

Application WHITELIST 

    LIST OF PERMITTED APPLICATIONS EG ON PHONE

Locking down a server

    Trusted OS ==> SERVER YOU CAN LOCK DOWN (WINDOWS, LINUX)

```

Virtualisation

```
HYPER-V (Microsoft)
ESX-i   (VMware)

        "Hypervisor"  ==> RUN VIRTUAL MACHINES

Host

    Guest (VM)

    
Snapshot ==> POINT-IN-TIME BACKUP OF 1 MACHINE

    
Sandbox ==> ISOLATED VM FOR TESTING EG VIRUSES : CAN'T INFECT
        REAL NETWORK

VM files

    VHD    Virtual Hard Drive               (win7)
    VHDX                        XML (newer)  (Win8 onwards)
    AVHDX    Difference file : between state now and last
            snapshot

VM Escape

    Malware ON VM ==> Escapes out onto the HOST (machine
        running VM hypervisor software)

Patch management

    Patch Tuesday : once a month, Microsoft release patches

BSOD Blue Screen Of Death : crash

```

Mobile Security

```
Secure

    1) Lock screen

    2) Win10 : CAN BITLOCKER HARD DRIVE

    3) Remote Lock

    4) Remote wipe

BYOD : Bring own device to work

CYOD : Choose your own (work owned) device
    
Camera/video !!!

MDM : Mobile Device Management : MANAGE MOBILES FROM CLOUD

```

Employees

```
Onboard            HIRE; TRAIN

Offboard        FIRE; THEY BECOME EX-EMPLOYEE!

```

Protecting Data

```
Data AT REST
    WINDOWS EFS ENCRYPTION
    BITLOCKER FULL DRIVE ENCRYPTION    

Data in TRANSIT
    HTTPS = SSL = TLS
    SSH
    IPSEC  
    VPN OVER IPSEC OR HTTPS

Data in RAM / in USE

```

DATA AT REST

```
NTFS ENCRYPTION  " EFS "

BITLOCKER "FULL DRIVE ENCRYPTION"

    Requires

        TWO PARTITIONS   | 100MB |  << rest of drive >> |
                  plain
                  text

                100MB = to allow PC to boot!!!
                    ((MBR boot files do not
                    understand encryption))

        TPM Trusted Platform Module

            Store BITLOCKER ENCRYPTION KEYS INSIDE
                THIS CHIP
            TPM 1.2

    Note : If no TPM chip can use USB stick instead

    Note : TPM chip is an example of a HSM Hardware Security
            Module

        HSM ==> general device to store encryption keys

DLP Data Loss Prevention
    
    DLP Policy = rules to stop data loss

```

Storage types

```
DAS    Direct Attached Storage

    USB
    SATA DRIVE
    (OLDER)   PATA / IDE DRIVE
              SCSI DRIVE
    SOLID STATE DRIVE EG M2

NAS    NETWORK ATTACHED STORAGE

    RAID

    RAID 0    STRIPING     2+ DRIVES : FAST BUT NO REDUNDANCY
        
    RAID 1    MIRROR         2 DRIVES  : copy of data
                    
    RAID 5    STRIPING WITH PARITY  3+ DRIVES : REDUNDANCY

    CHEAP STORAGE ON 'SOHO' NETWORK (SMALL OFFICE, HOME OFFICE)

CLUSTER

    SERVERA
    SERVERB

        Cluster : SERVERA FAILS ==> SERVERB TAKES OVER

SAN   STORAGE AREA NETWORK

    SERVERA____________SWITCH______________SAN DATABASE
    SERVERB          10Gbps fast           BACK END

    TWO TYPES OF SAN TECHNOLOGY

    1) FIBER CHANNEL

        $$$expensive but reliable.  
        Add custom hardware
        HBA host bus adapter
        Fibre Channel Card

    2) iSCSI

        Internet SCSI : running OLD SCSI over
        existing ETHERNET NETWORK (FREE)

SQL Structured Query Language
    Microsoft SQL
    mySQL : free (LINUX)

Big Data    

    Stores data in PLAIN TEXT FORMAT  

        "JSON" Javascript Object Notation

    Can handle large volumes quickly.  New technology: 
        careful with hacking.

```

Testing

```
Black box    only can look at INPUT AND OUTPUT ; NOTHING ELSE!

White box    Know details : test to deliberately break code

Alpha        VERY EARLY RELEASE 

Beta        ALMOST COMPLETE : 

    Final release : code is now ready!!!

Unit        Small piece of code

Integration    Join code together : test together

System        System as a whole

Regression    Fix a bug ==> re-test software to check 
            you haven't broken something else

User Acceptance    Let end user OK software : test and use

```

Cloud Computing

```
Advantage

    Pay for UNLIMITED

        CPU SPEED
        RAM
        STORAGE
        NETWORK BANDWIDTH

    NO UPFRONT COST FOR : SERVERS, CABINETS, BUILDINGS,
        FIRE REGULATIONS, ELECTRICITY, SPRINKLERS,
        SECURITY, TRAINING, EXPERT STAFF

Disadvantage

    WHERE IS YOUR DATA??? IS IT SECURE???

```

SAAS Software as a service

```
Just LOG IN AND USE SERVICE

```

PAAS Platform as a service

```
You log in VIRTUALLY TO A DESKTOP ASSIGNED TO YOU

    ((HOT DESKING))  ==> SIGN IN FROM ANY COMPUTER, GET 
                SAME DESKTOP

PAY FOR VIRTUAL ENVIRONMENT : INSTALL PROGRAMS AS YOU WISH

    eg Citrix 

```

IAAS Infrastructure

```
Get nothing : build VIRTUAL INFRASTRUCTURE FROM SCRATCH!!!

    GET NOTHING : MUST BUILD EVERYTHING

```

MAAS Management ...

```
Outsource admin tasks like checking logs, compliance etc

```

PRIVATE CLOUD

```
You buy your OWN SERVER!!! NO ONE ELSE HAS ACCESS! MORE SECURE!

```

PUBLIC CLOUD

```
Website hosted ==> CARE!! as files are on a server which
    is shared with many others ==> so hacking risk is
    higher!!!

```

COMMUNITY CLOUD

```
2 OR 3 COMPANIES TOGETHER BUY THEIR OWN PRIVATE CLOUD AND
    SHARE IT

```

Chapter 6 : Malware

Malware - any malicious software of any description (catch-all term)

Virus - needs a 'host' program in order to function. eg Word 'macro'
virus only runs if Word runs

Worm - can 'self-exist' and 'self-replicate'

Trojan - innocent-looking file with malware inside eg music file

Polymorphic Virus - change itself so that the 'hash' changes

Armored Virus - avoid detection by giving false info eg incorrect
readings about its location inside RAM

Zombie = virus doing nothing right now

Logic Bomb = trigger to make a Zombie start working

Botnet = group of infected computers

```
Bot => ONE ROBOT!

```

DOS attack = flood your server to stop it working

```
DOS = denial of service

DDOS = distributed - attack from many computers

```

Backdoor ==> created by programmer to quickly log in and bypass security

```
    ** not done any more!!! ***

```

Rootkit ==> affect PC eg ON HARD DRIVE, MOTHERBOARD, BIOS (BOOT SETTINGS)
==> BEFORE EVEN INSTALL WINDOWS!!!!

```
    very hard for WINDOWS TO EVEN DETECT IT!!!

    ((Offline scan : shut Windows down and scan from DVD))

```

Cookie

```
TEXT FILE IN BROWSER WITH CODED DATA TO TRACK YOUR BROWSING

```

Spyware

```
cookie to track eg shopping habits : STATISTICS IS BIG MONEY!!!
    AGE, OCCUPATION, TIME OF DAY, GENDER, INTERESTS ETC

```

Adware

```
pushing adverts 

```

Social Engineering = a HUMAN PERSON BEING TRICKED!!!

Shoulder Surf : watch people typing!!!

Dumpster Diving : looking through trash for info

Spam BOGUS EMAIL

Spim!!! BOGUS MESSAGE OVER IM

Phishing : bogus links/sites

Vishing : attack over (VOIP) phone

Spear Phishing : targeting INDIVIDUAL

Whaling : targeting HIGH VALUE INDIVIDUALS EG CEO

Privilege Escalation ==> more permissions than you ought

AntiVirus

```
Signature Based        MATCH AGAINST FIXED HASH

Anomaly            DEVIATE FROM BASELINE GRAPH

    Heuristic        REAL TIME SCANNING

```

Zero Day = FIND VIRUS IN NEWLY RELEASED SOFTWARE

Chapter 7

PING FLOOD : lots of PINGS

```
Smurf attack  = malformed PING (fake the sender IP)

```

TCP SYN FLOOD

```
Send lots of 'TCP hello' requests

```

PORT SCAN

```
Scan your network for open ports

    MXTOOLBOX 

```

XMAS ATTACK

```
Scan network : flags set to '1' or 'high' to provoke a response
    to get extra info back

BANNER GRABBING : SEND MESSAGE TO WEBSITE OR SERVER : HOPE TO 
    GET RESPONSE WHICH GIVES US BASIC INFO LIKE SERVER
    TYPE OR OPERATING SYSTEM

```

MITM Man in the middle attack

```
Client--------- bad router -----------    Server

        bad router listens or
        'eavesdrops' on messages.
        Also can alter packets

```

Session Hijack

```
client         bad router -------------server

        Server thinks it's talking to client
        but it's not.  bad router has 'hijacked'
        the session

```

Session Replay Attack

```
Bad router will copy all packets.  Later on, resend.

    EASY TO STOP : USE TIMESTAMPS!!!

```

Birthday attack

```
DISCOVER THAT TWO FILES HAVE SAME HASH AND CAN EXPLOIT THIS
    TO GET PASS HASHING SOFTWARE

```

DNS attack

```
DNS POISON
    
    fake DNS records eg SERVERA  IP = 1.2.3.4

        people looking for SERVERA get sent to wrong IP

PHARMING ATTACK

    Sending client to WRONG SITE : OFTEN HACK INTO LOCAL 
    COMPUTER (HOSTS FILE : CAN CHANGE THIS)

    c:windows\\system32\\drivers\\etc

```

Chapter 7 continued

Typo Squatting

```
Buying domains with A) MIS-SPELLING or B) ADDING EXTRA WORDS
    to well known domains

gooogle.com

```

URL Hijacking

```
Buying domain names that don't belong to you --> make money
    from selling to legitimate owner

```

Watering hole attack

```
Social media and other popular websites ==> place where
    'opportunist' hackers can hang out, looking for
    people/systems to attack

```

Flash Cookie and 'LSO' locally shared objects

```
==> old!!!  Cookies on Flash Websites!!!

```

Application Attacks

```
EXPLOIT VULNERABILITIES IN APPS/WEBSITES THAT YOU USE

Injection Attack

    Form........Name?   Address?? Zip Code???  Phone??

    ATTACKER PUTS PROGRAMMING CODE INSTEAD OF ANSWERS TO 
            QUESTION!!!

    
Input Validation

    CHECK ALL INPUT FOR ODD CHARACTERS LIKE

        ' \\  <  >  *  ETC

    check numbers/dates not too high/low

    block <script>  code (HTML)

    CLIENT = YOUR PHONE OR PC  ** EASILY HACKED **

    SERVER = DATA SENT TO SERVER

        MUST VALIDATE DATA AT BOTH CLIENT AND SERVER!

Race condition : two programs accessing SAME DATA AT SAME TIME

Error
    Bank loan ==> CALCULATE WRONG RATE!!!

Exception

    CRASH!!!  SYSTEM RUNNING : HITS BUG , STOP WORKING!!

        ==> GIVE DETAILED ERROR  ((HACKER CAN USE THIS
            TO GET INFO))

Buffer Overflow Attack

                    RAM
    Hard drive  ========>   ||||||||||||||||||  BUFFER  <====>|
                reserved RAM               OVERFLOW
    Network card

    Router

    Switch

        Buffer overflow ==> ATTEMPTING TO DELIBERATELY
            FORCE DATA INTO BUFFER.  GOAL : OVERFLOW
            LEGAL BOUNDARIES TO ACCESS OTHER AREAS
            OF RAM

Injection Attack

    SQL : database
    LDAP : Active Directory
    XML : 

Cross-site scripting

    Public website hosting : danger is attacker hack into
    one website ==> gain access to another.

XSRF Cross Site Request Forgery

    Logged in to website so potential for hacking is greater

Credentialed attack : logged in
Non-credentialled attack : not logged it

Directory Traversal ==> 

    c:\\MYSITE\\...

    hacker.. use this to gain access also to

    c:\\myothersite\\....  (different folder)

Fuzz Testing

    Test application ==> DOES IT STAND UP TO USER ABUSE???

        Try to send RANDOM DATA INTO APP TO SEE IF 
            IT CRASHES!!!  FUZZ TESTING !!!

```

Certificates

```
Certificates help us VALIDATE TRANSACTIONS

PUBLIC : ANYONE CAN HAVE

PRIVATE : KEEP SECURE

```

Installing a Certificate Server (CA = Certificate Authority)

```
SERVER ROLE !!!

ROOT CA

    INTERMEDIATE CA

        ISSUING CA ==> GIVE OUT CERTIFICATES TO USERS

Template : used to give DETAILS OF A CERTIFICATE WHEN IT'S 
        REQUESTED BY A USER

    - encryption type
    - how long is it valid (eg 5 years)
    - use eg Email Signing, Smartcard, Encryption ...

Enrol ==> Ask for a certificate eg user needs for encryption

    Auto-enrol : server handle
    Manual enrol : human must approve

    Already a user : want another certificate

        CSR CERTIFICATE SIGNING REQUEST

            Sign a request with your private key,
            Send to server,
            Returned a FRESH CERTIFICATE

Revoke = Annul a certificate

    2 lists of revoked certificates

    1) OFFLINE  :    CRL  Certificate Revocation List (all
                    bad certificates)

        EXAM : PROBLEM : CAN GET BIG, SLOW TO USE!

        << delta CRL = most recent updates>>

    2) ONLINE  : OCSP online certificate status protocol

        QUICK : only check for 1 certificate

Back up certificates
    
    If a user is UNAVAILABLE AND WANT TO RECOVER THEIR
    CERTIFICATE, MUST APPOINT A

        DATA RECOVERY AGENT : RECOVER ANY CERTIFICATE
        KEY RECOVERY AGENT  : RECOVERY ONE CERTIFICATE

    ESCROW : STORE CERTIFICATES WITH 3RD PARTY COMPANY

        !!! CAREFUL !!!

        M OF N 

            UNLOCK CERTIFICATE : REQUIRE M PEOPLE
            FROM GROUP OF N PRESENT

            EG 2 OF 5

```

Risk (325)

```
Impact ==> how much we are affected by something bad happening
        
SLE SINGLE LOSS EXPECTANCY == HOW MUCH 1 INCIDENT COSTS  

ARO ANNUAL RATE OCCURENCE == TIMES PER YEAR

ALE ANNUAL LOSS EXPECTANCY = SLE X ARO

    SLE = $10,000
    ARO = 10 / YEAR
    ALE = $100,000  / YEAR

Quantitative

    numerical analysis  30% chance

Qualitative

    Guestimate  :  medium risk ?????

MTBF    Mean Time Between Failure  ~~~~  MTTF

        Light Bulb MTBF = 100,000 YEARS

MTTR Mean Time to Repair / Recover / Restore

    SERVER GOES DOWN WITH HARD DRIVE

        1) NEW HARD DRIVE
        2) BACKUP RESTORE
        3) CONFIGURE ==========> 4 DAYS!!!

```

Steps the attacker uses

```
Footprinting        public knowledge - legal means to find
            out info about you

Fingerprinting         illegal methods to gain info about you
            eg ip scan, port scan, other attacks

Banner Grabbing        Send packets to server : analyse 
            HEADERS COMING BACK TO YOU (INITIAL 
            RESPONSE)

```

What we can do

```
Vulnerability Assessment

    ANALYSING YOUR COMPANY FOR FLAWS

    Vulnerability Scan ==> NICHE SCAN : ONE TYPE OF FLAW
        EG OPEN PORTS

        NON-INTRUSIVE !

Pen Test ==> Penetration Test : ACTUALLY TRY AND HACK IN!!!

    INTRUSIVE !!!

Code review : reading programming code : spot flaws

Audits : check for 

    COMPLIANCE TO POLICY
    LOGS : EVIDENCE OF BREAK IN ETC

```

Black hat BAD HACKER

White hat ETHICAL GOOD HACKER

Grey hat DUBIOUS MOTIVES

```
    HACKTIVIST - FOR A CAUSE

```

Script Kiddie

Chapter 9

Redundancy = cope with disaster

```
SPOF Single point of failure

RAID 5 : 3 DRIVES MIN        CAN  ONLY LOSE 1 DRIVE

RAID 6 : 4 DRIVES MIN        CAN LOSE 2 DRIVES!!!

```

Server Redundancy

```
99.999 % uptime     "FIVE 9'S"

HOW MANY MINUTES DOWN A YEAR???

0.00001  X   MINUTES IN A YEAR

```

Power

```
UPS : BATTERY : 30 MINUTES

GENERATOR : HOSPITAL : MANY HOURS

```

Backups

```
Archive Bit = 1 or 0

    1 = NEEDS TO BE BACKED UP
    0 = DOESN'T NEED TO BE BACKED UP

Full = Normal = Back up everything

Incremental : Fresh backup every day of JUST WORK THAT HAS 
            CHANGED THAT DAY

                    ((reset archive 'bit'))

Differential : Fresh backup every day of ALL FILES CHANGED
            SINCE LAST FULL BACKUP (doesn't touch 
                        archive bit))

                CUMULATIVE DAILY BACKUP

Diffential Example

    Friday : Full Backup 50GB
    Monday : Differential 500MB
    Tues   : Mon(500MB) + Tues(300MB)
    Wed    : Mon(500) + Tue(300) + Wed(250)

        SYSTEM CRASH THURSDAY MORNING

    Restore????

        2 TAPES : FRIDAY FULL + WED DIFFERENTIAL

```

Business Continuity

```
BCP Business Continuity Planning : what to do if disaster strikes

BIA Business Impact Analysis : WHAT WILL BE THE PREDICTED COST
                OF A HIT?

|======8 HOURS=========>=====3HOURS====>
            ==============36 HOURS===========>
|                    |          |    
|---------------------***--------------------------------|
backup             disaster          RTO        MTD
RPO

RPO = recovery point object = maxiumum amount of data you
        are prepared to lose eg 8 hours worth

RTO = recovery time object = PLANNED UPTIME GOAL!!! PLAN
                TO BE UP AND RUNNING AGAIN

MTD = Max tolerable downtime ==> must be up and running or
            your business may fail

DRP DISASTER RECOVERY PLAN

```

Fire
type use

```
Class A        Non-electrical        WATER

Class B        liquid/oil        FOAM
        (kitchen pan)        (DAMP CLOTH)

Class C        electrical        C02 GAS
                    POWDER

Datacenter                halogen (inert gas)

```

DAILY TEST 4
DAILY TEST 5
MOCK EXAM

==> REPORT ON ALL SCORES AND RECOMMEND PASS / FAIL

PLUS NOW !!! MUST GET 80% TO GET VOUCHER REQUEST FORM SIGNED BY ME!

Random Terms
EXAM : WRONG ANSWERS!!! HUB !!! WEP !!!
Intranet INTERNAL WEBSITE FOR EMPLOYEES
Extranet WEBSITE FOR EXTERNAL BUSINESS PARTNERS TO LOG IN TO ACCESS YOUR
RESOURCES
ISP => Internet Service Provider : supply broadband
3g/4g ==> SIM CARD
ping ==> test connectivity
DCPROMO : install a DOMAIN
FOREST : group of domains
DOMAIN : security boundary
FQDN Fully qualified domain name [INTEL.COM](http://intel.com/) (lab : <<firstname.local>>)

Crash 200!!!
Let's get going and revise stuff we have learned 1) from your HEAD 2) from

your NOTES and BOOK!!!
Work with me - bullet points!
DNS : domain name system : Name to IP
Proxy : filter all web traffic : cache : blacklist
RDS Remote Desktop : 3389
FTP : 20/21
SMTP : Simple Mail Transfer Protocol : SEND EMAIL :
SMTP 25
Telnet : Command line : 23
SSH Secure Shell : 22
SFTP = FTP over SSH port 22
SCP = Secure COPY = copy files to LINUX over 22
DNS : 53
DHCP : SERVER TO GIVE CLIENTS IP WHEN THEY START
DHCP : 67-68
HTTP : WEB 80
HTTPS : 443
SSL = HTTPS
TLS newer (upgrade to SSL)
POP3 110
IMAP 143
NETBIOS : NETWORKING USING HOSTNAME
NETBIOS : 137-139
KERBEROS : SECURE ACTIVE DIRECTORY
KERBEROS : 88
SNMP : SIMPLE NETWORK MANAGEMENT PROTOCOL
SNMP : HEARTBEAT, OTHER SIMPLE STATS
SNMP : PORT 161
RDP 3389
LDAP 389
LDAP : USED IN AD
LDAP : WRITE NAME AS ..CN=PHIL,OU=EMPLOYEES,DC=DOMAIN,DC=COM
Firewall BLOCK TRAFFIC BY 4 things

1. IP
2. PORT
3. PROGRAM EG SKYPE
4. PROTOCOL TCP OR UDP
Firewall : works at layers 3,4,7
Firewall Layer 3 STATELESS NOT AWARE OF FLOW
Firewall Layer 4 STATEFUL AWARE OF FLOW EG 10,000 PACKETS SEQ

1,2,3,4,5
Firewall Layer 7 APPLICATION LAYER FIREWALL
DEEP PACKET INSPECTION : SLOW
Web site/application
WAF Web app firewall : block by eg URL
URL CONTENT FILTERING
IMPLICIT DENY
DENY ANY ANY ALL
DMZ de-militarised zone =
Perimiter Network =
Screened Subnet
Host PUBLIC FACING WEB SERVER
UTM Unified Threat Management : all security
NAT Network Address Translation : map PRIVATE IP through to PUBLIC IP
PAT SAME AS NAT : MANY COMPUTERS FOR 1 PUBLIC IP
FOUR WAYS TO MANAGE ACCESS
MAC MANDATORY ACCESS CONTROL
MAC : FIXED CLASSIFICATIONS SET BY GOVT EG TOP SECRET
DACL : DISCRETIONARY ACCESS : WE ARE FREE TO CHANGE PERMISSIONS
RULE BASED : EG TIME OF DAY RESTRICTION
ROLE BASED : BY JOB ROLE
ACL ACCESS CONTROL LIST
SEE ACL IN 2 PLACES :

1. WINDOWS NTFS PERMISSIONS (FILE)
2. FIREWALL/ROUTER : IP RULES
ACE ACCESS CONTROL ENTRY : FINE PERMISSIONS EG READ
SID security ID in WINDOWS
GUID Global Unique ID for ACTIVE DIRECTORY
Subnetting
255.0.0.0 ==> HOW MANY BITS? 8
/8
CIDR /8
CLASS A MASK 255.0.0.0
B MASK 255.255.0.0
C MASK 255.255.255.0
4 PRIVATE RANGES
192.168.X.Y
172.16.X.Y-172.31.X.Y
10.X.Y.Z
APIPA 169.254.X.Y
APIPA : USED WHEN DHCP BROKEN
CLASS A RANGE 1-126
127.0.0.1 LOOPBACK
::1 IPV6 LOOPBACK
CLASS B RANGE 128-191
CLASS C RANGE 192-223
CLASS D RANGE MULTICAST 224-239
MULTICAST : SENDING LARGE FILES : TAP IN TO 'GROUP IP'
UNICAST 1-1
BROADCAST 1-ALL
MULTICAST 1-GROUP
ANYCAST 1-NEAREST
BINARY HEADERS 128 64 32 16 8 4 2 1
1000 0000 ==> 128
1000 1000 ==> 128 + 8 = 136
1000 1100 ==> 128 + 8 + 4 ==> 140
1100 0000 ==> 128 + 64 = 192
1110 0000 ==> 128 + 64 + 32 ==> 224
HEX NUMBERS RUN 1-F WHERE
DECIMAL HEX
0 0
1 1
2 2
9 9
10 A
11 B
12 C
13 D
14 E
15 F
G NOT PERMITTED
16 ==> 10 (ONE X 16) PLUS (ZERO UNIT)
9 (DECIMAL) = 9 (HEX)

1000 ===>
0X10 ==> 0x means 'what follows is a HEX NUMBER'
0X10 ==> DECIMAL 16
MAC ADDRESS ==> 60-67-20-78-0B-C6
PORT SECURITY
PHYSICAL SECURITY
MAC ADDRESS FILTER
802.1X ==> CAN HAVE A DATABASE (ACCESS VIA RADIUS) TO VERIFY ACCESS
AUTHENTICATION SERVER
RADIUS
DIAMETER
TACACS+ BEST
ENCRYPTION TYPES
THREE MAIN TYPES OF ENCRYPTION
SYMMETRIC
ASYMMETRIC
HASHING
SYMMETRIC : ONE KEY : FAST : NOT SECURE
SESSION KEY : RENEW EVERY 10 MINUTES
AES BEST ***
DES
3DES
BLOWFISH
TWOFISH
RC4
ASYMMETRIC : 2 KEYS PUBLIC PRIVATE
ASYMMETRIC : SLOW BUT SECURE
CERTIFICATE : 'ENVELOPE' TO HOLD PUBLIC KEY
RSA
ECC : ELLIPTIC CURVE : PHONES
DH DIFFIE HELLMAN
DHE DIFFIE HELLMAN EPHEMERAL (TEMPORARY)
HASHING =
ONE-WAY ENCRYPTION (CAN'T GO BACK FROM HASH TO PASSWORD)
MD5
SHA1
RAINBOW TABLES : LISTS OF HASHES

Trainer 200
Risk : chance that threat will EXPLOIT A VULNERABILITY
Vulnerability : weakness
Threat eg virus
Transfer : INSURE $$$
Avoid : DO SOMETHING ELSE
Accept : DO IT ANYWAY
Mitigate : Take action to strengthen our defences
Quantum cryptography : research phase : advanced
Separation of duty : CLEARLY DEFINED JOB ROLES
Job Rotation : ensures a) ONE PERSON NOT ENTRENCHED b) MULTIPLE TRAINED FOR 1 ROLE : GOOD IF KEY PERSON IS MISSING
Mandatory vacation : force HOLIDAY IN BLOCK
AUDITING : CHECKING ALL WORK : GOOD IF YOU'RE NOT THERE!
SYMMETRIC : ONE KEY, SAME KEY TO ENCRYPT/DECRYPT, FAST, NOT VERY SECURE
SESSION KEY : SYMMETRIC KEY LASTS 10 MINUTES
AES
CCMP
BLOWFISH
TWOFISH
DES
3DES
RC4
TKIP
ASYMMETRIC : 2 KEYS, PRIVATE/PUBLIC, SLOW, SECURE!
CERTIFICATE : HOLD YOUR (PUBLIC) KEY
SIGN : WITH YOUR PRIVATE KEY
VALIDATE SIGNATURE : WITH SIGNER'S PUBLIC KEY
SIGNATURE OF A FILE ==> 1) HASH 2) ENCRYPT HASH WITH PRIVATE KEY ===> NOW THIS FILE IS 'SIGNED' (ENCRYPTED HASH WE CALL THE 'SIGNATURE')
DH DIFFIE HELLMAN
EL GAMOL ???
ECC MOBILE PHONES
DHE DIFFIE HELLMAN EPHEMERAL ((EPHEMERAL ==> TEMPORARY))
RSA
HASHING
ONE WAY ENCRYPTION (CAN'T DECRYPT OTHER WAY)
RAINBOW TABLES : OF KNOWN HASHES
COLLISION
ETHERNET ==> CSMA/CD COLLISION DETECTION (PACKETS CAN COLLIDE ON ETHERNET NETWORK)
WIFI ==> CSMA/CA COLLISION AVOIDANCE : NO COLLISIONS ON WIFI (BEFORE SEND, CHECK NO ONE ELSE IS TRANSMITTING)
BIRTHDAY ATTACK : 2 FILES CAN HAVE SAME HASH : ATTACKER CAN USE THIS TO GET PAST DEFENCES (( COLLISION (HASH))
PORTS = CHANNEL INTO IP
25 SMTP : SEND EMAIL
110 POP : EMAIL IN
143 IMAP : EMAIL IN (COMPLEX)
GEOLOCATION : KNOW LOCATION FROM YOUR IP
SWITCH
STP : SPANNING TREE PROTOCOL : AUTO-STOP LOOPS IN SWITCH
LOOPBACK : TEST THAT NETWORK CARD IS WORKING OK AND IP INSTALLED OK
PING 127.0.0.1
PING LOCALHOST (PING MYSELF)
PING ::1 IPV6 LOOPBACK
ACCESS CONTROL
MAC : MANDATORY ACCESS CONTROL : FILES HAVE PERMISSION SET BY GOVERNMENT EG TOP SECRET, CLASSIFIED (NOT FREE TO CHANGE)
DACL : DISCRETIONARY : REGULAR NTFS PERMISSIONS : FREE TO CHANGE THEM
NTFS PERMISSIONS
FULL CONTROL
MODIFY
READ
EXECUTE
WRITE
LIST FOLDERS
SHARE PERMISSION (3)
FULL CONTROL
CHANGE
READ
UNC PATH \\SERVER\SHARENAME
Corrective control : IPS : take action on attack
IPS PREVENTION
IDS DETECTION
HONEYPOT FAKE LURE
HONEYNET
PAT
NAT ==> NETWORK ADDRESS TRANSLATION ==> PRIVATE TO PUBLIC IP
NAC ==> NETWORK ACCESS CONTROL ==> PROTECT OUR NETWORK ==> PC CONNECTS ENSURE IT HAS 1) UPDATES 2) AV 3) FIREWALL
VULNERABILITIES
OPEN PORTS
UNPATCHED SOFTWARE
MIS CONFIGURATION EG OF SERVER /APPLICATION
INSECURE PASSWORD
AV OUT OF DATE
USER ACCOUNTS NOT DISABLED
TOO MANY PERMISSIONS
NOT ENFORCING 'LEAST PRIVILEGE'
CAPTIVE PORTAL ==> FREE WIFI LOGIN PAGE
MANAGEMENT CONTROL : ADMIN / POLICY / AUDITING
MANAGEMENT : CREATE POLICIES - PEOPLE SHOULD DO THIS!
CREATE .. GROUP POLICY
PASSWORD POLICY
LOCKOUT POLICY
SECURITY BASELINE SETTINGS
TABLETOP EXERCISE : DISCUSS RISK ITEMS
CREATE : CLEAN DESK POLICY
AUP ACCEPTABLE USE
AUDITING : CHECKING ENFORCEMENT
OPERATIONAL : DAY-TO-DAY
GUARD ROTATION
CHECKING LOGS
MONITORING CAMERAS
CHANGE MANAGEMENT : APPROVING CHANGES BEFOREHAND
CONFIGURATION MANAGEMENT : CREATE STANDARD 'BASELINE' CONFIG
TECHNICAL CONTROL : AUTOMATED CHECKING
FIREWALL : BLOCKING
MOTION DETECTION SENSOR :
BIOMETRIC
INTRUSION ==>
RAT REMOTE ACCESS TROJAN
APT ADVANCED PERSISTENT THREAT : DON'T DETECT SO LIVE ON YOUR SYSTEM FOR LONG TIME
VIRUS
BPA BUSINESS PARTNER AGREEMENT : BOARDROOM LEVEL : FINANCIAL AGREEMENT
ISA ==> TECHNICAL AGREEMENT : 2 COMPANIES WORK TOGETHER ** LEGAL **
MOU : MEMORANDUM OF UNDERSTANDING : GUIDELINES FOR WORKING TOGETHER
.SLA SERVICE LEVEL AGREEMENT : HELPDESK : CUSTOMER PAYS FOR IT SUPPORT : SLA IS THE 'CONTRACT'
MUTUAL AUTHENTICATION ==> both servers swap certificates and verify each other's identity using 802.1X transport behind the scenes (automatic)
MULTI-FACTOR AUTHENTICATION : SMARTCARD + PIN
DUAL-FACTOR AUTHENTICATION : PASSWORD + FINGERPRINT
ONE FACTOR : PASSWORD + PIN
..
.
.
.

.

.
.
.
.

Lab
Win7
Shutdown : Network : Bridged
Turn On
Network : IP to Automatic
Rename
Join domain : SET DNS TO POINT TO OUR SERVER IP THEN JOIN DOMAIN!